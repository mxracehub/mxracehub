<!-- Auto-save script for betting forms -->
<script src="/js/bet-forms-autosave.js"></script>

<!-- Add any additional form-saving configurations here -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // We'll use MutationObserver to detect when forms are loaded dynamically
    const observer = new MutationObserver(function(mutations) {
      mutations.forEach(function(mutation) {
        if (mutation.type === 'childList') {
          // Check if friend bet form was added
          const friendBetForm = document.getElementById('friend-bet-form');
          if (friendBetForm && !friendBetForm.dataset.autoSaveInitialized) {
            if (window.initBetFormAutoSave) {
              window.initBetFormAutoSave('friend-bet', friendBetForm);
              friendBetForm.dataset.autoSaveInitialized = 'true';
            }
          }
          
          // Check if group bet form was added
          const groupBetForm = document.getElementById('group-bet-form');
          if (groupBetForm && !groupBetForm.dataset.autoSaveInitialized) {
            if (window.initBetFormAutoSave) {
              window.initBetFormAutoSave('group-bet', groupBetForm);
              groupBetForm.dataset.autoSaveInitialized = 'true';
            }
          }
        }
      });
    });
    
    // Start observing body for changes
    observer.observe(document.body, { childList: true, subtree: true });
  });
</script>